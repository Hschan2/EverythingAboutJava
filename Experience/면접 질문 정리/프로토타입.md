# 프로토타입
면접에서 프로토타입이 무엇인지 질문할 때가 있다.   

<b>"프로토타입이란 무엇인가?"</b>   

대개, 프로토타입은 자바스크립트에서 OOP로 개발하기 위해 사용하는 패턴이라고 대답할 것이다. 그리고 자바스크립트의 클래스 문법은 프로토타입 기반으로 만들어졌고 상속을 통해 재사용성을 높일 수 있다는 것을 더해서 말할 수 있을 것이다.   

틀린 대답은 아니지만 2% 부족한 대답이 될 수 있다. 자바스크립트 면접 필독서, Deep Dive의 내용에서 2%를 채울 수 있을 것이다.   

클래스 기반 객체지향 언어는 클래스를 정의하고 이를 기반으로 객체 인스턴스를 생성한다. 프로토타입 기반 객체지향 언어는 클래스 없이 객체를 생성할 수 있다.   

자바스크립트의 모든 객체는 자신의 부모 역할을 담당하는 객체와 연결되어 있다. 이것은 OOP의 상속 개념과 같이 부모 객체의 프로퍼티와 메소드를 상속받아 사용할 수 있다. 이런 부모 객체를 <b>프로토타입 객체</b> 또는 <b>프로토타입</b>이라고 한다.   

자바스크립트의 모든 객체는 ```[[Prototype]]```이라는 인터널 슬롯을 가지고 있다. 이 값은 <b>Null</b> 또는 객체이며 상속을 구현하는데 사용한다. 이 객체의 데이터 프로퍼티는 ```Get``` 엑세스를 위해 상속되어 자식 객체의 프로퍼티처럼 사용할 수 있지만 ```Set``` 액세스는 허용되지 않는다.   

```[[Prototype]]```의 값은 Prototype 객체이며, ```**proto**accessor property```로 접근할 수 있다. <b>proto</b> 프로퍼티에 접근하면 내부적으로 ```Object.getPrototypeOf```가 호출되어 프로토타입 객체를 반환한다.   

![객체 프로토타입](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FBPlx2%2FbtrtrYgBBAi%2Fwutm0JPqvRLeigjUFJBhv0%2Fimg.png)

## [[Prototype]] vs prototype 프로퍼티
함수도 객체이기 때문에 인터널 슬롯을 갖는다. 그러나 함수 객체는 일반 객체와 달리 <b>prototype 프로퍼티</b>도 가진다. 그 이유는 ```Function.prototype```을 가리키기 때문이다. 함수 객체가 생성자로 사용될 때, 해당 함수를 통해 생성된 객체의 부모 역할을 하는 객체를 가리킨다.   

## Constructor
프로토타입 객체는 ```Constructor 프로퍼티```를 갖는다. 이 프로퍼티는 객체의 입장에서 자신을 생성한 객체를 가리킨다.   

예를 들면, Person 생성자 함수에 의해 생성된 객체를 Foo라고 한다면, 해당 Foo 객체를 생성한 객체는 Person 생성자 함수이다. 이 때, Foo 객체 입장에서 자신을 생성한 객체는 Person 생성자 함수이며, Foo 객체의 프로토타입 객체는 ```Person.prototype```이다. 따라서, 프로토타입 객체인 ```Person.prototype```의 ```Constructor 프로퍼티```는 Person 생성자 함수를 가리킨다.   

쉽게 말하자면, Person은 함수로 정의되었지만 함수를 생성하는 생성자에 의해 만들어진 것이다. 여기서 ```Constructor```는 Person이다. 그리고 Foo의 Constructor는 Person이고 ```Person.constructor```는 Function이다.   

## Prototype Chain
자바스크립트는 특정 객체의 프로퍼티나 메소드에 접근할 때, 해당 객체에 접근하려는 프로퍼티 또는 메소드가 없다면 ```[[Prototype]]```이 가리키는 링크를 따라 자신의 부모 역할을 하는 프로토타입 객체의 프로퍼티나 메소드를 차례대로 검색한다. 이를 <b>프로토타입 체인(Prototype Chain)</b>이라고 한다.

## 요약
* 프로토타입: OOP의 상속 개념과 같이 부모 객체의 프로퍼티와 메소드를 상속받아 사용 가능. 이 때, 부모 객체가 프로토 타입
* 일반 클래스 언어와 프로토타입 언어의 차이
    * 클래스 기반 언어는 Class라는 틀 자체를 상속하고 상속시킨 틀을 이용해 객체를 생성
    * 프로토타입 기반 언어는 객체들을 Prototype으로 연결, 클래스라는 개념이 없어 객체들을 연결할 수 밖에 없음   

<br/>
<hr/>

[참고](https://taltube.tistory.com/40)